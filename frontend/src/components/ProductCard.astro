---
const { product } = Astro.props;
---

<article
  class="bg-neutral-900 border border-neutral-800 rounded-2xl overflow-hidden
         hover:border-rose-300 transition duration-300">

  <!-- Imagen -->
  <div class="aspect-[3/4] overflow-hidden bg-neutral-800">
    <img
  src={`http://127.0.0.1:8000${product.image_url}`}
  alt={product.name}
  class="w-full h-48 object-cover rounded-xl"
/>
  </div>

  <!-- Info -->
  <div class="p-4 space-y-2">
    <h3 class="text-sm font-medium tracking-wide">
      {product.name}
    </h3>

    <p class={`text-xs line-clamp-2 ${product.stock > 0 ? "text-neutral-400" : "text-rose-500 font-bold"}`}>
      {product.stock > 0 ? product.stock : "Sin stock"}
    </p>

    <div class="flex items-center justify-between pt-3">
      <span class="text-rose-300 font-semibold text-sm">
        ${product.price}
      </span>

    {product.stock > 0 && (
    <a
      href={`https://wa.me/5493571620225?text=Hola! Me interesa el producto ${product.name}`}
      target="_blank"
      class="text-xs border border-rose-300 text-rose-300 px-4 py-1.5 rounded-full
           hover:bg-rose-300 hover:text-neutral-950 transition"
    >
      Consultar
    </a>
)}
    </div>
  </div>
</article>
